var app=angular.module("myApp",[]);app.controller("toDoController",["$scope","$http",function(t,o){t.todoList=[],t.sh=!1,t.show=!1;var n=function(){o.get("/api/todos").then(function(o){var n=o.data.todos;n.forEach(function(o){t.todoList.push({id:o.id,text:o.title,content:o.content,status:!1})}),t.show=!0})};n(),t.add=function(){var n=t.text,e=t.content;o.post("/api/todos",{title:n,content:e}).then(function(o){var n=o.data.todo;t.todoList.push({id:n.id,text:n.title,content:n.content,status:!1}),t.show=!0,console.log(t.todoList)})},t.remove=function(){var n=t.todoList;t.todoList=[];var e=[];n.forEach(function(o){o.status?(o.text==t.details_text&&(t.sh=!1),e.push(o.id)):o.status||t.todoList.push(o)}),o.delete("/api/todos/"+e).then(function(t){alert("Deleted!!!")}),t.todoList.length||(t.show=!1)},t.show_details=function(){t.sh=!0,t.details_text=t.todoList[this.$index].text,t.details_id=t.todoList[this.$index].id,t.details_content=t.todoList[this.$index].content,t.index=this.$index},t.edit=function(n){var e=n,i=t.details_text,s=t.details_content;o.put("/api/todos/"+e,{title:i,content:s}).then(function(o){var n=o.data.todo;t.todoList.forEach(function(t){t.id==n.id&&(t.text=n.title,t.content=n.content)}),alert("Edited!!!")})},t.close=function(){t.sh=!1}}]);